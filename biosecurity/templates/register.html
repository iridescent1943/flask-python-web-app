{% extends "base.html" %}
{% block title %} Register {% endblock %}

{% block header %} 
  <nav class="navbar" style="background-color: #468ac6;">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 text-light" style="font-family: 'Oswald', sans-serif; font-size: 25px;font-weight: 500;">OCEAN PEST AND DISEASE BIOSECURITY GUIDE</span>
    </div>
  </nav>    
{% endblock %}

{% block content %}

<div class="container-sm"> 

  <h4 class="offcanvas-title pt-3"><i class="fa-solid fa-paintbrush"></i> Create Account</h4>
  <hr class="border-secondary border-2">

  <form class="row g-3 pb-3 needs-validation" novalidate action="{{ url_for('register') }}" method="post">
     
      <div class="col-sm-12">
          <label for="username" class="form-label">Username<span class="text-danger">*</span></label>
          <p class="text-muted"><small><i>Minimum 4 characters. Username cannot be changed later. Pleas choose one carefully</i></small></p>
          <input type="text" class="form-control" name="username" minlength="4" required>
          <div class="invalid-feedback">
            Minimum 4 characters.
            </div>
        </div> 

        <div class="col-sm-6">
          <label for="first_name" class="form-label">First name<span class="text-danger">*</span></label>
          <input type="text" name="first_name" class="form-control" maxlength="50" pattern="[A-Za-z]{1,50}" required>
          <div class="invalid-feedback">
            Please enter a valid first name.
            </div>
        </div>
  
        <div class="col-sm-6">
          <label for="last_name" class="form-label">Last name</label>
          <input type="text" name="last_name" class="form-control" maxlength="50" pattern="[A-Za-z]{1,50}" placeholder="optional">
          <div class="invalid-feedback">
          Please enter a valid last name.
          </div>
        </div>  

        <div class="col-sm-6">
          <label for="phone" class="form-label">Phone</label>
          <input type="tel" name="phone" class="form-control" maxlength="15" pattern="^(?:\+?64|0)[2-9]\d{7,15}$" placeholder="optional">
          <div class="invalid-feedback">
            Please enter a valid phone number, spaces and hyphens are not needed.
            </div>
        </div>

        <div class="col-sm-6">
          <label for="address" class="form-label">Address</label>
          <input type="text" class="form-control" name="address" maxlength="100" placeholder="optional">
        </div> 

        <div class="col-sm-12">
          <label for="email" class="form-label">E-mail<span class="text-danger">*</span></label>
          <input type="email" name="email" class="form-control" maxlength="100" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" required>
          <div class="invalid-feedback">
            Please enter a valid email address.
            </div>
        </div> 
        
        <div class="col-sm-12">
          <input type ="hidden" name="date_joined" value="{{today}}" required>
        </div>

       <div class="col-sm-12">
          <label for="password1" class="form-label">Password<span class="text-danger">*</span></label>
          <p class="text-muted"><small><i>Between 8 to 30 characters. It must contain at least one uppercase (A-Z), one lowercase (a-z), one number (0-9) and one special character (e.g. #, $, !, @, ^, &, *, etc).</i></small></p>
          <input type="password" class="form-control" id="password1" name="password1" minlength="8" maxlength="30" oninput="checkPasswordDuringRegistration()" required>
        </div>

        <div class="col-sm-12">
          <label for="password2" class="form-label">Confirm Passowrd<span class="text-danger">*</span></label>
          <input type="password" class="form-control" id="password2" name="password2" minlength="8" maxlength="30" oninput="checkPasswordDuringRegistration()" required>
        </div>

        <div class="col-sm-12" style="margin-top: 0;">
          <span id="message"></span>
        </div>

        <div class="d-grid gap-2 col-sm-6 mb-3">
          <button type="submit" id="to_be_activated_registration" class="btn btn-info text-light" disabled>Create</button>
        </div> 
            
          <div class="d-grid gap-2 col-sm-6 mb-3">
            <a href="{{ url_for('login') }}" role="button" class="btn btn-secondary">Cancel</a>
          </div>

        </div>

  </form>
</div> 

{% endblock %}